var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,c,d){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}},"es6","es3");
var startX,endX,startY,endY,lastX,lastY,mouseIsDown=0;function initHighlightCanvas(){hl_canvas.addEventListener("mousedown",mouseDown,!1);hl_canvas.addEventListener("mousemove",mouseXY,!1);hl_canvas.addEventListener("mouseup",mouseUp,!1);hl_canvas.addEventListener("mouseout",mouseUp,!1);hl_canvas.addEventListener("touchstart",mouseDown,!1);hl_canvas.addEventListener("touchmove",mouseXY,!1);hl_canvas.addEventListener("touchend",mouseUp,!1);hl_canvas.addEventListener("touchcancel",mouseUp,!1)}
function mouseDown(a){mouseIsDown=1;a=getMousePos(hl_canvas,a);startX=endX=a.x;startY=endY=a.y;drawSquare(!1)}function mouseXY(a){0!==mouseIsDown&&(a=getMousePos(hl_canvas,a),lastX=a.x,lastY=a.y,endX=a.x,endY=a.y,drawSquare(!1))}function mouseUp(a){getMousePos(hl_canvas,a);0!==mouseIsDown&&(a=getMousePos(hl_canvas,a),endX=a.x,endY=a.y,drawSquare(!0));mouseIsDown=0}
function drawSquare(a){var b=endX-startX,c=endY-startY,d=0>b?b:0,e=0>c?c:0;b=Math.abs(b);c=Math.abs(c);hl_context.clearRect(0,0,hl_canvas.width,hl_canvas.height);a?(a=draggingHighlight(new Rect(startX+d,startY+e,b,c)),console.log(a)):(hl_context.globalAlpha=.3,hl_context.beginPath(),hl_context.rect(0,0,hl_canvas.width,hl_canvas.height),hl_context.fillStyle="#f44283",hl_context.fill(),hl_context.clearRect(startX+d,startY+e,b,c),hl_context.rect(startX+d,startY+e,b,c),hl_context.fillStyle="transparent",
hl_context.fill(),hl_context.lineWidth=1,hl_context.strokeStyle="#b0c2f7",hl_context.stroke(),hl_context.closePath())}function getMousePos(a,b){a=a.getBoundingClientRect();return isMobile()?{x:(void 0!==b.touches&&void 0!==b.touches[0]?b.touches[0].clientX:lastX)-a.left,y:(void 0!==b.touches&&void 0!==b.touches[0]?b.touches[0].clientY:lastY)-a.top}:{x:b.clientX-a.left,y:b.clientY-a.top}};
